---
site: bookdown::bookdown_site
title: "How COVID-19 Is Changing the World: a Statistical Perspective Volume III"
# documentclass options: book, memoir, amsbook, scrbook
documentclass: scrbook
classoption:
 - openany
 
papersize: letter
margin-left: 1.25in
margin-right: 1.25in
margin-top: 1.25in
margin-bottom: 1.25in

colorlinks: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning=FALSE, fig.pos="H", out.extra = "")

library(knitr)
library(rmarkdown)
library(dplyr)
library(tidyr)
library(readr)
library(here)
library(ggplot2)
library(plotly)
library(kableExtra)
```

# Introduction #


This is an experimental project to produce a "digital first" companion to the
*How COVID-19 Is Changing the World* series of reports from the [CCSA][ccsa].
The aspirations are to: produce an interactive, engaging product with each
member contributing its own source code and data; explore innovative
new ways of using data science tools for communication and collaboration;
demonstrate the potential of open data, open code, and reproducible research, and;
learn from our shared knowledge and experimentation.

[ccsa]: https://unstats.un.org/unsd/ccsa


Angela Me\
Chief, Research and Trend Analysis Branch\
UNODC\
Co-chair CCSA

Haishan Fu\
Director, Development Data Group\
World Bank\
Co-chair CCSA

<!--chapter:end:index.Rmd-->

# World Bank: COVID-19 pushing 71 to 100 million people into extreme poverty #

<!-- 
This Rmd document uses package `RStata` to execute the do-file directly from 
Stata using R. Make sure to install it properly by reading the read-me file in 
the official repository (https://github.com/lbraglia/RStata). Also, you can take
a look at this blog: https://ignacioriveros1.github.io/stata/r/2020/03/22/r_and_stata.html

By just executing `bookdown::render_book("index.Rmd", "bookdown::gitbook")` or
bookdown::render_book("contrib/wbg2.Rmd", "bookdown::gitbook") you can see how 
it works. 
-->

```{r, include = FALSE}
library(here)
here::i_am("contrib/wbg2.Rmd")
```

**COVID-19 is taking its toll on the world, causing deaths, illnesses and economic
despair. This contribution suggests that COVID-19 is pushing about 71 to 100 million
people into extreme poverty, and that South Asia and Sub-Saharan Africa might be the
regions hardest hit.**

```{r stata-data, include = FALSE}

df <- RStata::stata(here("contrib/CCSA_PSPS2020nowcast.do"), data.out = TRUE)

df <- df %>% 
  filter(year == 2019 & growth == "January 2020 GEP, precovid") %>% 
  mutate(growth = "historical") %>% 
  bind_rows(df) %>% 
  arrange(year, growth) %>% 
  mutate(text = paste("year: ", year, "\n",
                      "Scenario: ", growth, "\n",
                      "Millions of poor: ", round(poor, digits = 2), "\n")
  )
```


```{r wbg-1, fig.cap='The impact of COVID-19 on global poverty'}
viz = ggplot(df, 
             aes(x=year, 
                 y=poor, 
                 color=growth)
             ) +
  geom_line(size=1) + 
  geom_point(aes(text = text)) + 
  labs(x="", 
       y="Millions of poor") +
  scale_x_continuous(breaks=c(2015:2021)) + 
  scale_y_continuous(breaks=seq(550,750, by=20), 
                     limits=c(550,750)) +
  theme_minimal() +
  theme(legend.position="bottom", 
        legend.title=element_blank())

ggplotly(viz, tooltip = "text") %>%
  layout(legend=list(orientation='h', x=0, y=-0.1))
```

```{=latex}
\begin{multicols}{2}[ ]
```

Nowcasting global poverty is not an easy task. It requires
assumptions about how to forecast growth, how such growth
will impact the poor and many other assumptions. Estimating
how much global poverty will increase because of COVID-19
is challenging and comes with much uncertainty.

This note is based on the latest household survey data for
166 countries in PovcalNet, an online tool for estimating
global poverty, with extrapolations using growth projections
from the June 2020 edition of the World Bank’s Global
Economic Prospects. Comparing these forecasts impacted by
COVID-19 with the forecasts from the previous edition of the
Global Economic Prospects published in January allows for an
assessment of the impact of the pandemic on global poverty.
Whereas other factors may have worsened or improved
countries’ growth outlooks between January and June, most
of the changes in the forecasts are due to the pandemic.

The forecasts reveal that COVID-19 is likely to cause the first
increase in global poverty since 1998, when the Asian financial
crisis hit. With the new forecasts, global poverty—the share of
the world’s population living on less than US $1.90 per day—is
projected to increase from 8.2 per cent in 2019 to 8.8 per cent
in 2020, or from 632 million people to 684 million people. The
projected decline over the same time period using the previous
Global Economic Prospects forecasts was from 8.0 per cent
to 7.7 per cent. The slight change in the base number from 8.2
to 8.0 per cent for 2019 happens because the revised growth
forecasts also changed for non-COVID reasons in some
countries. Taking this into account, the pandemic is driving
a change in the 2020 estimate of the global poverty rate of
0.9 percentage points. In absolute terms, it is estimated that
COVID-19 will push 71 million people into extreme poverty in
2020. In a downside scenario, which assumes that outbreaks
persist longer than expected forcing lockdown measures to be
maintained or reintroduced, 100 million people will be pushed
into poverty.

```{=latex}
\end{multicols}
```

```{r wbg-2, fig.cap='The regional distribution of the COVID-19-induced poor'}

df = read_csv(here('data', 'wbg-2.csv')) %>%
      rename(povline   ='Poverty line in PPP$ (per capita per day)', 
             projection='Years of GDP data used for growth projections') %>%
      select(!povline) %>%
    pivot_longer(!projection, 
                names_to = "region", 
                values_to = "value") %>% 
  mutate(
    text = paste("Region:", region, "\n",
                 "Scenario:", projection, "\n",
                 "Mill. of poor:", value, "\n")
  )


viz <- ggplot(filter(df, value > 0)) + # in case we want to filter North America 
  geom_bar(aes(x    = reorder(projection, value), 
               y    = value, 
               fill = reorder(region, value), 
               text = text),
           stat='identity', 
           position=position_dodge()) + 
  coord_flip() +
  labs(y='Millions of poor added to extreme poverty', x='') +
  theme_minimal() +
  theme(legend.position='bottom', 
        legend.title=element_blank())

ggplotly(viz, tooltip = "text") %>%
  layout(legend=list(orientation='h', x=0, y=-0.2))
```

#### Sources #### {-}

* <http://iresearch.worldbank.org/PovcalNet/home.aspx>
* <https://www.worldbank.org/en/publication/global-economic-prospects>
* <https://blogs.worldbank.org/opendata/updated-estimates-impact-covid-19-global-poverty>
* <http://documents1.worldbank.org/curated/en/765601591733806023/pdf/How-Much-Does-Reducing-Inequality-Matter-for-Global-Poverty.pdf>

![](logos/wbg.png){width=20%}

<!--chapter:end:contrib/wbg2.Rmd-->

